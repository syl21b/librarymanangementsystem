<html>
<head>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css' rel='stylesheet' />
  <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js'></script>
</head>
<body>
  <div id='calendar'></div>
  <script>
    $(document).ready(function() {
      // initialize the calendar
      $('#calendar').fullCalendar({
        header: {
          left: 'prev,next today',
          center: 'title',
          right: 'month,agendaWeek,agendaDay'
        },
        defaultDate: Date.now(),
        navLinks: true,
        editable: false,
        eventLimit: true, // allow "more" link when too many events
        events: [
          {% for event in events %}
          {
            title: '{{ event.title }}',
            start: '{{ event.start_time.isoformat() }}',
            end: '{{ event.start_time.isoformat() }}',
            location: '{{ event.location }}',
            url: '/event/{{ event.title }}'
          },
          {% endfor %}
        ]
      });
    });
  </script>
</body>
</html>
